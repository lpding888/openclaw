{
  "file": "src/commands/onboard-auth.config-core.ts",
  "description": "胜算云 - 配置应用函数 applyShengsuanyunConfig / applyShengsuanyunProviderConfig",
  "replacements": {
    "export function applyAuthProfileConfig(": "// ── 胜算云配置 (OpenClaw 汉化版内置) ────────────────────────────────────\nexport const SHENGSUANYUN_BASE_URL = \"\";\nexport const SHENGSUANYUN_DEFAULT_MODEL_ID = \"openai/gpt-4.1-nano\";\nexport function applyShengsuanyunProviderConfig(cfg: OpenClawConfig): OpenClawConfig {\n const SHENGSUANYUN_DEFAULT_MODEL_REF = \"shengsuanyun/openai/gpt-4.1-nano\";\n const models = { ...cfg.agents?.defaults?.models };\n models[SHENGSUANYUN_DEFAULT_MODEL_REF] = {\n ...models[SHENGSUANYUN_DEFAULT_MODEL_REF],\n alias: models[SHENGSUANYUN_DEFAULT_MODEL_REF]?.alias ?? \"胜算云\",\n };\n const providers = { ...cfg.models?.providers };\n const existingProvider = providers.shengsuanyun;\n const {\n apiKey: existingApiKey,\n api: existingApi,\n ...existingProviderRest\n } = (existingProvider ?? {}) as Record<string, unknown> as {\n apiKey?: string;\n api?: ModelApi;\n };\n const resolvedApiKey = typeof existingApiKey === \"string\" ? existingApiKey : undefined;\n const normalizedApiKey = resolvedApiKey?.trim();\n providers.shengsuanyun = {\n ...existingProviderRest,\n baseUrl: SHENGSUANYUN_BASE_URL,\n api: existingApi ?? \"openai-completions\",\n ...(normalizedApiKey ? { apiKey: normalizedApiKey } : {}),\n // 模型由 resolveImplicitProviders 实时发现\n models: [],\n };\n return {\n ...cfg,\n agents: {\n ...cfg.agents,\n defaults: {\n ...cfg.agents?.defaults,\n models,\n },\n },\n models: {\n mode: cfg.models?.mode ?? \"merge\",\n providers,\n },\n };\n}\nexport function applyShengsuanyunConfig(cfg: OpenClawConfig): OpenClawConfig {\n const SHENGSUANYUN_DEFAULT_MODEL_REF = \"shengsuanyun/openai/gpt-4.1-nano\";\n const next = applyShengsuanyunProviderConfig(cfg);\n const existingModel = next.agents?.defaults?.model;\n return {\n ...next,\n agents: {\n ...next.agents,\n defaults: {\n ...next.agents?.defaults,\n model: {\n ...(existingModel && \"fallbacks\" in (existingModel as Record<string, unknown>)\n ? {\n fallbacks: (existingModel as { fallbacks?: string[] }).fallbacks,\n }\n : undefined),\n primary: SHENGSUANYUN_DEFAULT_MODEL_REF,\n },\n },\n },\n };\n}\nexport function applyAuthProfileConfig("
  }
}
